# LINQ

Inside our business logic, we can use LINQ to help us implement most of the logic.

There are two ways to write LINQ statements: using [Query syntax or using Method syntax](http://msdn.microsoft.com/en-us/library/bb397947.aspx):

```c#
  // Query syntax
  var result = from c in _courses.All()
  where c.Semester == "20143"
  orderby c.Name
  select c;
  
  // The same query, using Method syntax:
  var result = _courses.All().Where(c => c.Semester == "20143").OrderBy(c => c.Name);
```
Both queries are equivalent, and will result in identical queries being executed. There are however cases where it will
be more convenient to use one method over the other, so it is probably not a good idea to reject one or the other 
entirely.

## Materializing queries

A LINQ statement will usually result in a query object:

```c#
  var result = _courses.All().Where(c => c.Semester == "20143");
```
The result variable will now contain a query object. This object will however not be __materialized__ (i.e. the query
won't be executed), until the data is actually needed. There are several ways that could happen:

* Some code will try to enumerate the result, by calling foreach on the collection.
* The result is converted to a list, using result.ToList() or result.ToArray()
* We try to access a given value from the result, using First()/FirstOrDefault()/Single()/SingleOrDefault()
* We try to use some of the values in the result, by calling aggregate functions such as Count()/Min()/Max()/Average() etc.

This must be kept in mind at all times, since unneccesary materialization might result in a lot of data being
fetched needlessly.




